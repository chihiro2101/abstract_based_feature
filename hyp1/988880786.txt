however , the crossbar switch does so at the expense of using n 2 ( n squared ) simple spst switches not only did the switch require too much space , but the metal bars containing the switch contacts would become so long that they would sag and become unreliable if a crossbar switch could be emulated by some arrangement of smaller crossbar switches , then these smaller crossbar switches could also , in turn be emulated by even smaller crossbar switches the next approach was to break apart the crossbar switch into three layers of smaller crossbar switches '' the smaller switches are less massive , more reliable , and generally easier to build , and therefore less expensive the design could have 4 subswitches on the input side , each with 4 inputs , for 16 total inputs further , on the output side , we could also have 4 output subswitches , each with 4 outputs , for a total of 16 outputs also , each middle subswitch will have a single wire to each output subswitch the question is how many middle subswitches are needed , and therefore how many total wires should connect the input layer to the middle layer the number of middle subswitches depends on the algorithm used to allocate connection to them the basic algorithm for managing a three-layer switch is to search the middle subswitches for a middle subswitch that has unused wires to the needed input and output switches once a connectible middle subswitch is found , connecting to the correct inputs and outputs in the input and output switches is trivial theoretically , in the example , only four central switches are needed , each with exactly one connection to each input switch and one connection to each output switch however , a bit of work with a pencil and paper will show that it is easy to get such a minimal switch into conditions in which no single middle switch has a connection to both the needed input switch and the needed output switch if an input switch is half-full , it has connections via two middle switches if an output switch is also half full with connections from the other two middle switches , then there is no remaining middle switch which can provide a path between that input and output for this reason , sometimes this switch arrangement is called a '' 2n & minus ; 1 switch '' , where n is the number of input ports of the input subswitches for example , a 10,000 line exchange would need 100 million contacts to implement a full crossbar since , prior to the arrival of the new connection , the input and output subswitches each had at least one unused connection , both of these unused links must exist the algorithm finds a new arrangement of the connections through the middle subswitches a and b which includes all of the existing connections , plus the desired new connection the algorithm proper only cares about the internal connections from input to output switch , although a practical implementation also has to keep track of the correct input and output switch connections assign it the path from its input subswitch , through middle subswitch a , to its output subswitch if this first connection 's output subswitch has a second connection , assign that second connection a path from its input subswitch through subswitch b there may be additional connections through subswitches a and b which are not part of the chain including the new connection ; those connections may be left as-is after the new connection pattern is designed in the software , then the electronics of the switch can actually be reprogrammed , physically moving the connections a practical implementation of a switch can be created from an odd number of layers of smaller subswitches although each subswitch has limited multiplexing capability , working together they synthesize the effect of a larger n & times ; n crossbar switch since they have far fewer electrical connections to fail , they are far more reliable than space-division switches , and are therefore the preferred switches for the outer ( input and output ) layers of modern telephone switches 