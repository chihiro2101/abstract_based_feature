modern data networks carry many different types of services , including voice , video , streaming music , web pages and email in december 1998 , the ietf published - definition of the differentiated services field ( ds field ) in the ipv4 and ipv6 headers , which replaced the ipv4 tos field with the ds field in the ds field , a range of eight values ( class selectors ) is used for backward compatibility with the ip precedence specification in the former tos field today , diffserv has largely supplanted tos and other layer 3 qos mechanisms , such as integrated services ( intserv ) , as the primary architecture routers use to provide qos rather than differentiating network traffic based on the requirements of an individual flow , diffserv operates on the principle of traffic classification , placing each data packet into one of a limited number of traffic classes each traffic class can be managed differently , ensuring preferential treatment for higher-priority traffic on the network the premise of diffserv is that complicated functions such as packet classification and policing can be carried out at the edge of the network by edge routers while diffserv does recommend a standardized set of traffic classes , the diffserv architecture does not incorporate predetermined judgments of what types of traffic should be given priority treatment network traffic entering a diffserv domain is subjected to classification and conditioning a traffic classifier may inspect many different parameters in incoming packets , such as source address , destination address or traffic type and assign individual packets to a specific traffic class traffic classifiers may honor any diffserv markings in received packets or may elect to ignore or override those markings traffic in each class may be further conditioned by subjecting the traffic to rate limiting , traffic policers or shapers section 3 the per-hop behavior is determined by the ds field in the ip header explicit congestion notification ( ecn ) occupies the least-significant 2 bits of the ipv4 tos field and ipv6 traffic class ( tc ) field — definition of the differentiated services field ( ds field ) in the ipv4 and ipv6 headers — an architecture for differentiated services 