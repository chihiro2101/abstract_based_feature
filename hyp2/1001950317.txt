scott 's campaign to take mexico city he fought a battle of cerro gordo , but encountered virtually no resistance in capturing mexico 's second-largest city , puebla scott avoided the direct route from puebla to mexico city because the road was heavily defended at el peñon instead , he cut a road looping south of lake chalco and lake xochimilco to the town of san agustín general gideon johnson pillow 's division cut a road for artillery through the pedregal to engage the entrenched mexican forces under general gabriel valencia at contreras on 20 august on september 8 , 1847 , in the costly battle of molino del rey , u.s forces had managed to drive the mexicans from their positions near the base of chapultepec castle guarding mexico city from the west , but army engineers were still interested in the southern causeways to the city , 1974 , the mexican war , 1846–1848 , new york : macmillan , general scott held a council of war with his generals and engineers on september 11 given that mexican forces defended fortified positions tenaciously and had inflicted severe casualties on u.s forces at molino del rey and cerro gordo , the decision to attack chapultepec was not taken lightly general lopez de santa anna was in command of the army at mexico city , and understood that chapultepec castle was an important position for the defense of the city the castle sat atop a 200-ft-tall hill , which was used as the mexican military academy although santa anna 's total forces defending mexico city were larger than scott 's , he had to defend multiple positions , since he did not know from where the attack would come he did not have enough troops to effectively defend both the southern causeways into mexico city and chapultepec castle , at a distance from the capital also defending the castle was the batallón de san blas under the command of lieutenant colonel felipe xicoténcatl , a hero of the battle , along with six cadets who died defending the castle thinking that the attack would come from the south , santa anna devoted preparation time and troops there , both before and during the bombardment chapultepec castle was not built as a fortress but as a luxury residence , later converted to the military academy only when the bombardment went on all day did santa anna realize the main attack was to be on chapultepec at 8:00 am , the bombardment was halted and general scott ordered the infantry attack quitman 's division , but the attack faltered when fired upon by the moelia battalion battery by 9:00 am , general bravo surrendered to the new york regiment , and the american flag flew over the castle during the battle , niños héroes , and one of their instructors , refused to fall back when general bravo finally ordered retreat , and fought to the death worth 's division was sent by scott to support trousdale 's men on la verónica causeway ( now avenida melchor ocampo ) for the main attack against the san cosme gate the city was yet to be taken , santa anna had 5,000 troops in the ciudadela ( armory ) and 7,000 in other parts of the city army officers participating in the invasion became generals on both sides of the american civil war , including daniel h 13 , 1847 file : monumentoalosniñosheroes.jpg monument to the six heroic cadets , with chapultepec castle in the background file : mexico city battles.jpg molino del rey is on the left – mexico war , center for greater southwestern studies and uta libraries special collections , the university of texas at arlington scott , winfield 