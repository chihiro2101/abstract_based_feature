light refracted or reflected causes patterns called caustics , usually visible as concentrated patches of light on nearby surfaces photon mapping can trace the paths of individual photons to model where these concentrated patches of light will appear photon mapping differs though in that it separates the light transport from the nature of the geometry in the scene subsurface scattering can accurately be modeled using photon mapping with photon mapping , light packets called photons are sent out into the scene from the light sources whenever a photon intersects with a surface , the intersection point and incoming direction are stored in a cache called the photon map if the photon reflects , the surface 's bidirectional reflectance distribution function is used to determine the ratio of reflected radiance the contribution to the surface radiance from caustics is calculated using the caustics photon map directly the sum of those results for each photon represents total surface radiance returned by the surface intersection in the direction of the ray that struck it during the photon mapping process , when a photon strikes a surface , in addition to the usual operations performed , a shadow photon is emitted in the same direction the original photon came from that goes all the way through the object then during the direct illumination calculation , instead of sending out a ray from the surface to the light that tests collisions with objects , the photon map is queried for shadow photons 