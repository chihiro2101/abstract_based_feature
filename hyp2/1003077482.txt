the state of some physical systems , and the function e ( s ) to be minimized , is analogous to the internal energy of the system in that state at each step , the simulated annealing heuristic considers some neighboring state s of the current state s , and probabilistically decides between moving the system to state s or staying in-state s optimization of a solution involves evaluating the neighbours of a state of the problem , which are new states produced through conservatively altering a given state for example , in the travelling salesman problem each state is typically defined as a permutation of the cities to be visited , and the neighbors of any state are the set of permutations produced by swapping any two of these cities these moves usually result in minimal alterations of the last state , in an attempt to progressively improve the solution through iteratively improving its parts ( such as the city connections in the traveling salesman problem ) metaheuristics use the neighbours of a solution as a way to explore the solution space , and although they prefer better neighbours , they also accept worse neighbours in order to avoid getting stuck in local optima ; they can find the global optimum if run for a long enough amount of time to investigate the behavior of simulated annealing on a particular problem , it can be useful to consider the transition probabilities that result from the various design choices made in the implementation of the algorithm for each edge ( s , s ' ) of the search graph , the transition probability is defined as the probability that the simulated annealing algorithm will move to state s ' when its current state is s this probability depends on the current temperature as specified by , on the order in which the candidate moves are generated by the function , and on the acceptance probability function however , this acceptance probability is often used for simulated annealing even when the function , which is analogous to the proposal distribution in metropolis–hastings , is not symmetric , or not probabilistic at all nevertheless , most descriptions of simulated annealing assume the original acceptance function , which is probably hard-coded in many implementations of sa moscato and fontanari conclude from observing the analogous of the '' specific heat '' curve of the '' threshold updating '' annealing originating from their study that '' the stochasticity of the metropolis updating in the simulated annealing algorithm does not play a major role in the search of near-optimal minima '' when choosing the candidate generator , one must consider that after a few iterations of the simulated annealing algorithm , the current state is expected to have much lower energy than a random state when choosing the candidate generator one must also try to reduce the number of '' deep '' local minima—states ( or sets of connected states ) that have much lower energy than all its neighbouring states other adaptive approach as thermodynamic simulated annealing , automatically adjusts the temperature at each step based on the energy difference between the two states , according to the laws of thermodynamics dual-phase evolution is a family of algorithms and processes ( to which simulated annealing belongs ) that mediate between local and global search by exploiting phase changes in the search space '' general simulated annealing algorithm '' an open-source matlab program for general simulated annealing exercises 