at each step , the simulated annealing heuristic considers some neighboring state s of the current state s , and probabilistically decides between moving the system to state s or staying in-state s these probabilities ultimately lead the system to move to states of lower energy optimization of a solution involves evaluating the neighbours of a state of the problem , which are new states produced through conservatively altering a given state for example , in the travelling salesman problem each state is typically defined as a permutation of the cities to be visited , and the neighbors of any state are the set of permutations produced by swapping any two of these cities metaheuristics use the neighbours of a solution as a way to explore the solution space , and although they prefer better neighbours , they also accept worse neighbours in order to avoid getting stuck in local optima ; they can find the global optimum if run for a long enough amount of time to investigate the behavior of simulated annealing on a particular problem , it can be useful to consider the transition probabilities that result from the various design choices made in the implementation of the algorithm for each edge ( s , s ' ) of the search graph , the transition probability is defined as the probability that the simulated annealing algorithm will move to state s ' when its current state is s this probability depends on the current temperature as specified by , on the order in which the candidate moves are generated by the function , and on the acceptance probability function in practice , it 's common to use the same acceptance function for many problems , and adjust the other two functions according to the specific problem however , this acceptance probability is often used for simulated annealing even when the function , which is analogous to the proposal distribution in metropolisâ€“hastings , is not symmetric , or not probabilistic at all moscato and fontanari conclude from observing the analogous of the '' specific heat '' curve of the '' threshold updating '' annealing originating from their study that '' the stochasticity of the metropolis updating in the simulated annealing algorithm does not play a major role in the search of near-optimal minima '' instead , they proposed that '' the smoothening of the cost function landscape at high temperature and the gradual definition of the minima during the cooling process are the fundamental ingredients for the success of simulated annealing when choosing the candidate generator , one must consider that after a few iterations of the simulated annealing algorithm , the current state is expected to have much lower energy than a random state the physical analogy that is used to justify simulated annealing assumes that the cooling rate is low enough for the probability distribution of the current state to be near thermodynamic equilibrium at all times adaptive simulated annealing algorithms address this problem by connecting the cooling schedule to the search progress other adaptive approach as thermodynamic simulated annealing , automatically adjusts the temperature at each step based on the energy difference between the two states , according to the laws of thermodynamics '' general simulated annealing algorithm '' an open-source matlab program for general simulated annealing exercises 